<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Contract Programming</title>
</head><body><ul><li>requires (precondition)</li>
<li style="list-style-type: none"><ul><li>May need to name another function that needs to be called first. Although this may be worked-around by adding an auxiliary function. e.g. consider the following public interface: turnOn() {ensures isOn()}, isOn(), move() {requires isOn()}.</li>
</ul>
</li>
<li>ensures (postcondition)</li>
<li>assigns</li>
<li>It may be reasonable to annotate some preconditions (or maybe other contracts as well?) so that they are compiled even in release mode. That way, they will be part of the function header and be visible in documentation, but they will also be left in the release binary to detect exploits!</li>
<li style="list-style-type: none"><ul><li><b>Use Cases</b>:</li>
<li style="list-style-type: none"><ul><li>OS API (syscalls)</li>
<li>shared libraries</li>
<li>interfacing with languages that don't support contracts</li>
</ul>
</li>
</ul>
</li>
<li>Perhaps it will be best to emit the code that checks the contract in the caller, not the callee. That way, the optimizer will have a chance to remove them and there won't be a difference between distributing release or debug binaries.</li>
<li>One way to implement contracts, laid out in a proposal for C++, is to emit many entry points to the function that defines the contracts. One entry point will be used when preconditions are checked in the caller and another when preconditions are checked in the callee (e.g. when called through a pointer).</li>
<li>Contracts might express mathematical properties that can't necessarily be proved automatically.</li>
<li><b>Todo</b></li>
<li style="list-style-type: none"><ul><li>Look at specification languages.</li>
<li>Select terminology (requires/ensures vs expects/ensures vs precondition/postcondition).</li>
</ul>
</li>
</ul>
</body></html>