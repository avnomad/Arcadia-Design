<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Attributes</title>
</head><body><ul><li><b>Pureness</b></li>
<li style="list-style-type: none"><ul><li>Pureness attributes should apply to the function type instead of the function so that I can have e.g. pointers to pure functions.</li>
<li><b>Pure</b></li>
<li style="list-style-type: none"><ul><li>Allow declaring functions to be "pure" and check that they don't do certain things. (like in D)</li>
<li><i>Pure</i>&nbsp;is good, but I'll probably also need a way to express the fact that a method will change (or read) only some variables and/or only the pass-by-reference parameters, etc.</li>
</ul>
</li>
<li><b>Deterministic</b></li>
<li style="list-style-type: none"><ul><li>Determinism can be defined:</li>
<li style="list-style-type: none"><ul><li>In terms of <i>binary</i>&nbsp;equality of the function's inputs and outputs.</li>
<li>In terms of <i>logical</i>&nbsp;equality of the function's inputs and outputs. (As expressed by the user-defined equals operator.)</li>
<li>Using combinations of the above.</li>
</ul>
</li>
</ul>
</li>
<li><b>Side-Effect-Free</b></li>
<li><b>Conditional</b></li>
<li style="list-style-type: none"><ul><li>Conditional versions of the above attributes may be needed. e.g. to express that a function is pure iff it's function arguments are pure.</li>
</ul>
</li>
<li><b>Todo</b></li>
<li style="list-style-type: none"><ul><li>What annotation do I need to express that <tt>list.size()</tt>&nbsp;can be moved outside the loop in the following example?</li>
<li style="list-style-type: none"><ul><tt><li style="list-style-type: none">for(int i = 0 ; i &lt; list.size() ; ++i)</li>
</tt><li style="list-style-type: none"><ul><li style="list-style-type: none"><tt>list.set(i,i);</tt></li>
</ul>
</li>
</ul>
</li>
<li style="list-style-type: none"><tt>size</tt>&nbsp;can be a pure function, but <tt>set</tt>&nbsp;modifies the object. Somehow I need to express that the fields that change are not the ones that contribute to <tt>size</tt>'s output.</li>
</ul>
</li>
</ul>
</li>
<li><b>Control Flow</b></li>
<li style="list-style-type: none"><ul><li><i>noreturn</i>&nbsp;for functions not intended to ever return. Can be useful in warning about dead code.</li>
<li><i>nothrow</i>&nbsp;for functions that don't throw any exceptions.</li>
</ul>
</li>
<li><b>Mathematical Properties</b></li>
<li style="list-style-type: none"><ul><li>If Value Range Propagation is to be generalized to user-defined functions, then it might be necessary to include attributes for function monotonicity, and/or a way to specify the range of values a function can return given the range of values it takes as arguments.</li>
<li>Connection between equality and assignment.</li>
<li>Connection between =, ≠, &lt;, &gt;, ≤ , ≥</li>
<li>Partial vs total order.</li>
</ul>
</li>
<li><b>Well-formedness of Function Calls</b></li>
<li style="list-style-type: none"><ul><li>Needed for "paired-call" blocks to work.</li>
<li>Specify that a function:</li>
<li style="list-style-type: none"><ul><li>Begins a block</li>
<li>Ends a block</li>
<li>Can only be called within the block.</li>
</ul>
</li>
<li>Although these function calls usually appear within a single function body in linear code and can be checked statically, this in not always the case. If they are not used within a paired-call block, and proper matching can't be guaranteed, a warning could be issued.</li>
</ul>
</li>
<li><i>simple</i>? for types for which there is an invertible mapping from the type's elements to the binary combinations that can fit in the space an object of that type takes. i.e. All binary combinations represent valid objects.</li>
<li><b>Optimization</b></li>
<li style="list-style-type: none"><ul><li><i>relocatable</i>? for types whose objects are relocatable. i.e. They don't contain a field that points inside the object itself, so they can be relocated by simple bit-by-bit copy.</li>
</ul>
</li>
<li><b>Thread Safety</b></li>
<li style="list-style-type: none"><ul><li><i>single-threaded</i>&nbsp;applied to one or more of programs, modules. Static verification to prove thread working sets are disjoint?</li>
<li><i>synchronized</i>&nbsp;for structures/classes and methods/functions?</li>
</ul>
</li>
<li><b>Ideas</b></li>
<li style="list-style-type: none"><ul><li>Do I need something similar to <i>deprecated</i>? I already have a mechanism corresponding to (D's) <i>version</i>&nbsp;(<i>debug?</i>) that uses existing primitives.</li>
</ul>
</li>
</ul>
</body></html>